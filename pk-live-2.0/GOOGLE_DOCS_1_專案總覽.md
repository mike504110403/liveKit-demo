# PK Live 2.0 專案規劃 - 總覽

> **版本**: v1.0 | **日期**: 2026-01-13 | **狀態**: 待決策

---

## 📋 專案背景

**現況問題**：
- 現有 1.0 版本為外包 PHP 系統
- 使用騰訊雲 SDK（直播、AI 濾鏡）
- 原生 iOS 和 Android 客戶端
- 存在嚴重問題：時程延誤、Bug 頻繁、無法維護

**重建目標**：
- 1 年內完成，6 個月 MVP 可上線
- 高可用、高彈性架構
- 微服務設計，可重用
- 產品完整度達抖音 80%

---

## 🎯 三個方案總覽

| 方案 | 核心策略 | 適用條件 |
|------|---------|---------|
| **選項1：重構** | 分析現有 PHP 代碼，逐步重構為 Go 微服務 | ✅ 有代碼，質量可接受 |
| **選項2：逐步替換** | 維護 PHP 運行，同時逐批開發 Go 替換 | ✅ 有代碼，可繼續運行 |
| **選項3：重做** | 完全重新開發，不依賴舊代碼 | ✅ 無代碼或質量太差 |

---

## 📊 核心決策對比

### 時程與成本對比

| 維度 | 選項1：重構 | 選項2：逐步替換 | 選項3：重做 |
|------|-----------|---------------|-----------|
| **MVP時程（含招聘）** | **7.5個月** | 8個月 | 9-9.5個月 |
| **完整版時程（含招聘）** | **11.5-13個月** | 15個月 | 13-13.5個月 |
| **MVP人力成本** | **$390K-780K** | $455K-980K | $440K-900K |
| **MVP總成本** | TBD | TBD | **$480K-990K** |
| **1年人力成本** | **$780K-1.56M** | $910K-1.96M | $660K-1.35M |
| **人力需求** | **20-26人** | 22-28人 | 22-27人 |
| **技術風險** | 中 | **低** | 高 |
| **業務風險** | **低** | **低** | 中 |

**關鍵結論**：
- ✅ **最快上線**：選項1（7.5個月含招聘）
- ✅ **風險最低**：選項2（雙系統並行）
- ✅ **架構最乾淨**：選項3（無技術債）

---

## 💰 成本對比總覽

### MVP 成本對比（6個月）

| 成本類別 | 選項1 | 選項2 | 選項3 |
|---------|-------|-------|-------|
| **人力成本** | $390K-780K | $455K-980K | $440K-900K |
| **基礎設施** | TBD | TBD | $25K-35K |
| **第三方服務** | TBD | TBD | $15K-25K |
| **總計** | TBD | TBD | **$480K-990K** |

### 1年總成本對比

| 成本類別 | 選項1 | 選項2 | 選項3 |
|---------|-------|-------|-------|
| **人力成本** | $780K-1.56M | $910K-1.96M | $660K-1.35M |
| **基礎設施** | TBD | TBD | $50K-70K |
| **第三方服務** | TBD | TBD | $30K-50K |
| **總計** | TBD | TBD | **$740K-1.47M** |

**說明**：
- 選項1、2的基礎設施與第三方成本需待代碼評估後確定
- 選項3 成本最明確（全新開發）
- 選項2 因雙系統維護，1年總成本最高

---

## 👥 人力配置對比

### 團隊規模對比

| 角色類別 | 選項1 | 選項2 | 選項3 |
|---------|-------|-------|-------|
| **PHP 團隊** | 1-2人（分析） | 2-3人（維護） | 0人 |
| **Go 後端** | 7人 | 7人 | 7人 |
| **遊戲服務** | 5-6人 | 5-6人 | 5-6人 |
| **iOS** | 1-2人 | 1-2人 | 2人 |
| **Android** | 1-2人 | 1-2人 | 2人 |
| **DevOps** | 2-3人 | 3-4人 | 2-3人 |
| **QA** | 1-2人 | 1-2人 | 1-2人 |
| **設計** | 1-2人 | 1-2人 | 1-2人 |
| **管理** | 1-2人 | 1-2人 | 2-3人 |
| **總計** | **20-26人** | **22-28人** | **22-27人** |

**差異分析**：
- **選項1**：需要 PHP 專家分析代碼
- **選項2**：需要 PHP 團隊持續維護，DevOps 負擔最重
- **選項3**：需要資深產品經理重新定義需求，客戶端人力最多

---

## 📅 時程對比

### MVP 時程（含招聘）

| 階段 | 選項1 | 選項2 | 選項3 |
|------|-------|-------|-------|
| **招聘期** | 4週 | 4週 | 6週 |
| **分析期** | 3週 | 3週 | 5週 |
| **開發期** | 20週 | 25週 | 24週 |
| **測試期** | 3週 | 4週 | 5週 |
| **總計** | **30週 (7.5個月)** | **36週 (8個月)** | **40週 (9.5個月)** |

### 完整版時程

| 階段 | 選項1 | 選項2 | 選項3 |
|------|-------|-------|-------|
| **MVP 完成** | 7.5個月 | 8個月 | 9.5個月 |
| **完善功能** | 4-5.5個月 | 7個月 | 3.5-4個月 |
| **總計** | **11.5-13個月** | **15個月** | **13-13.5個月** |

**時程分析**：
- **選項1** 最快 MVP，但完整版需要較長時間迭代
- **選項2** 最慢，因為需要逐批替換（4批）
- **選項3** MVP 較慢，但完整版速度適中（三輪開發）

---

## ⚠️ 風險評估

### 風險對比矩陣

| 風險類型 | 選項1 | 選項2 | 選項3 |
|---------|-------|-------|-------|
| **技術風險** | 中（代碼質量） | 低（雙系統） | 高（全新開發） |
| **時程風險** | 低 | 低 | 中 |
| **成本風險** | 中（待評估） | 中（雙系統維護） | 低（可控） |
| **業務風險** | 低（快速上線） | 低（漸進式） | 中（時間較長） |
| **人力風險** | 中（需PHP專家） | 高（人力最多） | 中 |

### 風險緩解措施

| 風險 | 應對措施 |
|------|---------|
| **招聘困難** | 提前 4-6 週開始，與獵頭合作 |
| **需求變更** | 使用敏捷開發，2週迭代 |
| **技術選型錯誤** | POC 驗證，參考業界最佳實踐 |
| **時程延誤** | 預留 20% 緩衝時間 |
| **成本超支** | 每月 Review，及時調整 |

---

## 🎯 決策建議

### 選擇矩陣

| 決策因素 | 選項1 | 選項2 | 選項3 | 權重 |
|---------|-------|-------|-------|------|
| **上線速度** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ | 高 |
| **風險控制** | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐ | 高 |
| **成本控制** | ⭐⭐⭐⭐ | ⭐⭐ | ⭐⭐⭐⭐ | 中 |
| **架構質量** | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 中 |
| **長期維護** | ⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ | 高 |

---

## 📝 適用場景

### 選擇選項1（重構）的條件：
- ✅ 能拿到外包代碼
- ✅ 代碼質量可接受（50%+）
- ✅ 時間壓力大
- ✅ 業務邏輯清晰
- ⚠️ 可接受中等技術債

### 選擇選項2（逐步替換）的條件：
- ✅ 能拿到外包代碼
- ✅ PHP 系統可繼續運行
- ✅ 風險厭惡型組織
- ✅ 人力資源充足
- ⚠️ 可接受較長時程

### 選擇選項3（重做）的條件：
- ✅ 無法獲取外包代碼
- ✅ 或代碼質量太差（<30%）
- ✅ 追求長期價值
- ✅ 有充足預算和時間
- ⚠️ 需要資深產品經理

---

## 🚀 建議行動

### 第一步：評估現有代碼

**在做最終決策前，必須先完成代碼評估**

```
[ ] 1. 與外包商協商，獲取代碼訪問權
[ ] 2. 招聘 1 名資深 PHP 工程師（2-4週）
[ ] 3. 進行代碼質量評估（1-2週）：
    - 代碼結構與可讀性
    - 性能瓶頸識別
    - 安全漏洞檢查
    - 技術債務評估
[ ] 4. 輸出評估報告，包含：
    - 代碼質量評分（0-100分）
    - 可重用模組清單
    - 必須重寫模組清單
    - 建議方案（選項1/2/3）
```

### 第二步：決策流程圖

```
能否拿到代碼？
├─ 否 → 選擇【選項3：重做】
└─ 是 → 代碼質量評估
    ├─ 優秀（70+分）→ 選擇【選項1：重構】
    ├─ 可接受（40-70分）
    │   ├─ 時間緊迫 → 選擇【選項1：重構】
    │   └─ 風險優先 → 選擇【選項2：逐步替換】
    └─ 太差（<40分）→ 選擇【選項3：重做】
```

### 第三步：啟動準備

**選定方案後，立即行動**：

```
週 1-2：
[ ] 確定技術選型
[ ] 制定招聘計劃
[ ] 發布職位

週 3-6：
[ ] 面試與招聘
[ ] PM 並行進行需求整理
[ ] 準備開發環境

週 7：
[ ] 團隊 Kick-off 會議
[ ] 正式啟動開發
```

---

## 📂 詳細文檔

本總覽文檔提供三個方案的高階對比，詳細內容請參閱：

| 文檔 | 內容 |
|------|------|
| **選項1：重構方案** | 方案詳情、架構設計、人力配置、成本估算、開發時程 |
| **選項2：逐步替換方案** | 方案詳情、替換策略、人力配置、成本估算、開發時程 |
| **選項3：重做方案** | 方案詳情、架構設計、人力配置、成本估算、開發時程 |

---

## 📞 聯絡資訊

**專案負責人**：[待填寫]  
**技術負責人**：[待填寫]  
**更新日期**：2026-01-13  
**版本**：v1.0

---

## 📋 變更歷史

| 版本 | 日期 | 變更內容 | 作者 |
|------|------|---------|------|
| v1.0 | 2026-01-13 | 初版完成 | AI |

---

**文檔結束**
